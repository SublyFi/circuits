function weight(x){ return 2097152 * x.network_depth + 256 * x.total_gates + 256 * x.network_size + x.preprocess_weight;}var pre_profile = { 'code':
{"source_file":"use arcis::*;\n\n#[encrypted]\nmod circuits {\n    use arcis::*;\n\n    // ========================================================================\n    // Input Structures\n    // ========================================================================\n\n    /// Deposit circuit input\n    pub struct DepositInput {\n        pub current_balance: u64,\n        pub deposit_amount: u64,\n    }\n\n    /// Withdraw circuit input\n    pub struct WithdrawInput {\n        pub current_balance: u64,\n        pub withdraw_amount: u64,\n    }\n\n    /// Subscribe circuit input\n    pub struct SubscribeInput {\n        pub user_balance: u64,\n        pub merchant_balance: u64,\n        pub subscription_count: u64,\n        pub plan_pubkey: [u8; 32],\n        pub price: u64,\n        pub current_timestamp: i64,\n        pub billing_cycle_days: u32,\n    }\n\n    /// Unsubscribe circuit input\n    pub struct UnsubscribeInput {\n        pub current_status: u8,\n    }\n\n    /// ProcessPayment circuit input\n    pub struct ProcessPaymentInput {\n        pub user_balance: u64,\n        pub merchant_balance: u64,\n        pub subscription_status: u8,\n        pub next_payment_date: i64,\n        pub current_timestamp: i64,\n        pub plan_price: u64,\n        pub billing_cycle_days: u32,\n    }\n\n    /// VerifySubscription circuit input\n    pub struct VerifySubscriptionInput {\n        pub subscription_status: u8,\n        pub next_payment_date: i64,\n        pub current_timestamp: i64,\n    }\n\n    /// ClaimRevenue circuit input\n    pub struct ClaimRevenueInput {\n        pub current_balance: u64,\n        pub claim_amount: u64,\n    }\n\n    // ========================================================================\n    // Output Structures\n    // ========================================================================\n\n    /// Withdraw circuit output\n    pub struct WithdrawOutput {\n        pub new_balance: u64,\n        pub actual_amount: u64,\n        pub success: bool,\n    }\n\n    /// Subscribe circuit output\n    pub struct SubscribeOutput {\n        pub new_user_balance: u64,\n        pub new_merchant_balance: u64,\n        pub new_subscription_count: u64,\n        pub encrypted_plan: [u8; 32],\n        pub encrypted_status: u8,\n        pub encrypted_next_payment_date: i64,\n        pub encrypted_start_date: i64,\n        pub success: bool,\n    }\n\n    /// ProcessPayment circuit output\n    pub struct ProcessPaymentOutput {\n        pub new_user_balance: u64,\n        pub new_merchant_balance: u64,\n        pub new_status: u8,\n        pub new_next_payment_date: i64,\n        pub payment_processed: bool,\n    }\n\n    /// ClaimRevenue circuit output\n    pub struct ClaimRevenueOutput {\n        pub new_balance: u64,\n        pub actual_amount: u64,\n        pub success: bool,\n    }\n\n    // ========================================================================\n    // Circuit Implementations\n    // ========================================================================\n\n    /// Deposit circuit: Add funds to user's encrypted balance\n    /// Input: current_balance (encrypted), deposit_amount (encrypted)\n    /// Output: new_balance (encrypted)\n    #[instruction]\n    pub fn deposit(input: Enc<Shared, DepositInput>) -> Enc<Shared, u64> {\n        let inp = input.to_arcis();\n        let new_balance = inp.current_balance + inp.deposit_amount;\n        input.owner.from_arcis(new_balance)\n    }\n\n    /// Withdraw circuit: Subtract funds from user's encrypted balance\n    /// Input: current_balance (encrypted), withdraw_amount (encrypted)\n    /// Output: WithdrawOutput with new_balance, actual_amount, and success flag\n    #[instruction]\n    pub fn withdraw(input: Enc<Shared, WithdrawInput>) -> Enc<Shared, WithdrawOutput> {\n        let inp = input.to_arcis();\n\n        // Check if user has sufficient balance\n        let has_balance = inp.current_balance >= inp.withdraw_amount;\n\n        // Conditional subtraction: only subtract if has_balance is true\n        let new_balance = if has_balance {\n            inp.current_balance - inp.withdraw_amount\n        } else {\n            inp.current_balance\n        };\n\n        // Actual withdraw amount: if success, use withdraw_amount, else 0\n        let actual_amount = if has_balance {\n            inp.withdraw_amount\n        } else {\n            0u64\n        };\n\n        let output = WithdrawOutput {\n            new_balance,\n            actual_amount,\n            success: has_balance,\n        };\n\n        input.owner.from_arcis(output)\n    }\n\n    /// Subscribe circuit: Create subscription and process initial payment\n    /// Input: Various encrypted values for user balance, merchant balance, plan info\n    /// Output: Updated balances, subscription state\n    #[instruction]\n    pub fn subscribe(input: Enc<Shared, SubscribeInput>) -> Enc<Shared, SubscribeOutput> {\n        let inp = input.to_arcis();\n\n        // Check if user has sufficient balance for initial payment\n        let has_balance = inp.user_balance >= inp.price;\n\n        // Calculate new balances (only if has_balance)\n        let new_user_bal = if has_balance {\n            inp.user_balance - inp.price\n        } else {\n            inp.user_balance\n        };\n\n        let new_merchant_bal = if has_balance {\n            inp.merchant_balance + inp.price\n        } else {\n            inp.merchant_balance\n        };\n\n        // Increment subscription count only if successful\n        let new_count = if has_balance {\n            inp.subscription_count + 1\n        } else {\n            inp.subscription_count\n        };\n\n        // Calculate next payment date: current_timestamp + (billing_cycle_days * 86400 seconds)\n        let seconds_per_day: i64 = 86400;\n        let cycle_seconds = (inp.billing_cycle_days as i64) * seconds_per_day;\n        let next_payment = inp.current_timestamp + cycle_seconds;\n\n        // Status: 0 = Active, 1 = Cancelled, 2 = Expired\n        let status: u8 = if has_balance { 0 } else { 1 };\n\n        let output = SubscribeOutput {\n            new_user_balance: new_user_bal,\n            new_merchant_balance: new_merchant_bal,\n            new_subscription_count: new_count,\n            encrypted_plan: inp.plan_pubkey,\n            encrypted_status: status,\n            encrypted_next_payment_date: if has_balance { next_payment } else { 0 },\n            encrypted_start_date: if has_balance { inp.current_timestamp } else { 0 },\n            success: has_balance,\n        };\n\n        input.owner.from_arcis(output)\n    }\n\n    /// Unsubscribe circuit: Cancel subscription\n    /// Input: current_status (encrypted)\n    /// Output: new_status (encrypted) - always set to Cancelled (1)\n    #[instruction]\n    pub fn unsubscribe(input: Enc<Shared, UnsubscribeInput>) -> Enc<Shared, u8> {\n        // Status 1 = Cancelled\n        let cancelled_status: u8 = 1;\n        input.owner.from_arcis(cancelled_status)\n    }\n\n    /// ProcessPayment circuit: Process recurring subscription payment\n    /// Input: User/merchant balances, subscription state, timestamp info\n    /// Output: Updated balances, subscription state\n    #[instruction]\n    pub fn process_payment(input: Enc<Shared, ProcessPaymentInput>) -> Enc<Shared, ProcessPaymentOutput> {\n        let inp = input.to_arcis();\n\n        // Check if subscription is Active (status == 0)\n        let is_active = inp.subscription_status == 0;\n\n        // Check if payment is due (next_payment_date <= current_timestamp)\n        let is_due = inp.next_payment_date <= inp.current_timestamp;\n\n        // Should we process this payment?\n        let should_process = is_active && is_due;\n\n        // Check if user has sufficient balance\n        let has_balance = inp.user_balance >= inp.plan_price;\n\n        // Can we actually process the payment?\n        let can_pay = should_process && has_balance;\n\n        // Calculate new balances\n        let new_user_bal = if can_pay {\n            inp.user_balance - inp.plan_price\n        } else {\n            inp.user_balance\n        };\n\n        let new_merchant_bal = if can_pay {\n            inp.merchant_balance + inp.plan_price\n        } else {\n            inp.merchant_balance\n        };\n\n        // Update status: If should_process but !has_balance, cancel the subscription\n        let new_status = if should_process && !has_balance {\n            1u8 // Cancelled due to insufficient balance\n        } else {\n            inp.subscription_status\n        };\n\n        // Calculate next payment date\n        let seconds_per_day: i64 = 86400;\n        let cycle_seconds = (inp.billing_cycle_days as i64) * seconds_per_day;\n        let new_next_date = if can_pay {\n            inp.next_payment_date + cycle_seconds\n        } else {\n            inp.next_payment_date\n        };\n\n        let output = ProcessPaymentOutput {\n            new_user_balance: new_user_bal,\n            new_merchant_balance: new_merchant_bal,\n            new_status,\n            new_next_payment_date: new_next_date,\n            payment_processed: can_pay,\n        };\n\n        input.owner.from_arcis(output)\n    }\n\n    /// VerifySubscription circuit: Check if subscription is valid\n    /// Input: subscription_status (encrypted), next_payment_date (encrypted), current_timestamp\n    /// Output: is_valid (bool, revealed)\n    #[instruction]\n    pub fn verify_subscription(input: Enc<Shared, VerifySubscriptionInput>) -> bool {\n        let inp = input.to_arcis();\n\n        // Subscription is valid if:\n        // 1. Status is Active (0)\n        // 2. Not past the grace period (next_payment_date + some buffer)\n        let is_active = inp.subscription_status == 0;\n\n        // Allow some grace period (e.g., 3 days = 259200 seconds)\n        let grace_period: i64 = 259200;\n        let grace_deadline = inp.next_payment_date + grace_period;\n        let not_expired = inp.current_timestamp <= grace_deadline;\n\n        let is_valid = is_active && not_expired;\n\n        is_valid.reveal()\n    }\n\n    /// ClaimRevenue circuit: Merchant withdraws accumulated revenue\n    /// Input: current_balance (encrypted), claim_amount (encrypted)\n    /// Output: ClaimRevenueOutput with new_balance, actual_amount, and success flag\n    #[instruction]\n    pub fn claim_revenue(input: Enc<Shared, ClaimRevenueInput>) -> Enc<Shared, ClaimRevenueOutput> {\n        let inp = input.to_arcis();\n\n        // Check if merchant has sufficient balance\n        let has_balance = inp.current_balance >= inp.claim_amount;\n\n        // Conditional subtraction\n        let new_balance = if has_balance {\n            inp.current_balance - inp.claim_amount\n        } else {\n            inp.current_balance\n        };\n\n        // Actual claim amount\n        let actual_amount = if has_balance {\n            inp.claim_amount\n        } else {\n            0u64\n        };\n\n        let output = ClaimRevenueOutput {\n            new_balance,\n            actual_amount,\n            success: has_balance,\n        };\n\n        input.owner.from_arcis(output)\n    }\n}\n","code":[{"code":"self.owner","region":"Unknown"},{"code":"self.data","region":"Unknown"},{"code":"Self :: __arcis_inner(self.owner, self.data)","region":"Unknown"},{"code":"let inp = input.to_arcis();","region":{"Known":[{"line":110,"column":8},{"line":110,"column":35}]}},{"code":"let new_balance = inp.current_balance + inp.deposit_amount;","region":{"Known":[{"line":111,"column":8},{"line":111,"column":67}]}},{"code":"new_balance","region":{"Known":[{"line":112,"column":31},{"line":112,"column":42}]}},{"code":"self.nonce += 1;","region":"Unknown"},{"code":"self","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"self.from_arcis_inner(a)","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"let phantom = [a; 0];","region":"Unknown"},{"code":"data","region":"Unknown"},{"code":"phantom","region":"Unknown"},{"code":"let data = EncData { data, phantom };","region":"Unknown"},{"code":"owner","region":"Unknown"},{"code":"data","region":"Unknown"},{"code":"Self { owner, data }","region":"Unknown"},{"code":"Enc :: new_inner(self, a, self.from_arcis_inner(a))","region":"Unknown"},{"code":"input.owner.from_arcis(new_balance)","region":{"Known":[{"line":112,"column":8},{"line":112,"column":43}]}},{"code":"let inp = input.to_arcis();","region":{"Known":[{"line":120,"column":8},{"line":120,"column":35}]}},{"code":"let has_balance = inp.current_balance >= inp.withdraw_amount;","region":{"Known":[{"line":123,"column":8},{"line":123,"column":69}]}},{"code":"has_balance","region":{"Known":[{"line":126,"column":29},{"line":126,"column":40}]}},{"code":"inp.current_balance","region":{"Known":[{"line":129,"column":12},{"line":129,"column":31}]}},{"code":"inp.current_balance - inp.withdraw_amount","region":{"Known":[{"line":127,"column":12},{"line":127,"column":53}]}},{"code":"let new_balance = if has_balance { inp.current_balance - inp.withdraw_amount }\nelse { inp.current_balance };","region":{"Known":[{"line":126,"column":8},{"line":130,"column":10}]}},{"code":"has_balance","region":{"Known":[{"line":133,"column":31},{"line":133,"column":42}]}},{"code":"0u64","region":{"Known":[{"line":136,"column":12},{"line":136,"column":16}]}},{"code":"inp.withdraw_amount","region":{"Known":[{"line":134,"column":12},{"line":134,"column":31}]}},{"code":"let actual_amount = if has_balance { inp.withdraw_amount } else { 0u64 };","region":{"Known":[{"line":133,"column":8},{"line":137,"column":10}]}},{"code":"new_balance","region":{"Known":[{"line":140,"column":12},{"line":140,"column":23}]}},{"code":"actual_amount","region":{"Known":[{"line":141,"column":12},{"line":141,"column":25}]}},{"code":"has_balance","region":{"Known":[{"line":142,"column":21},{"line":142,"column":32}]}},{"code":"let output = WithdrawOutput\n{ new_balance, actual_amount, success : has_balance, };","region":{"Known":[{"line":139,"column":8},{"line":143,"column":10}]}},{"code":"output","region":{"Known":[{"line":145,"column":31},{"line":145,"column":37}]}},{"code":"input.owner.from_arcis(output)","region":{"Known":[{"line":145,"column":8},{"line":145,"column":38}]}},{"code":"let inp = input.to_arcis();","region":{"Known":[{"line":153,"column":8},{"line":153,"column":35}]}},{"code":"let has_balance = inp.user_balance >= inp.price;","region":{"Known":[{"line":156,"column":8},{"line":156,"column":56}]}},{"code":"has_balance","region":{"Known":[{"line":159,"column":30},{"line":159,"column":41}]}},{"code":"inp.user_balance","region":{"Known":[{"line":162,"column":12},{"line":162,"column":28}]}},{"code":"inp.user_balance - inp.price","region":{"Known":[{"line":160,"column":12},{"line":160,"column":40}]}},{"code":"let new_user_bal = if has_balance { inp.user_balance - inp.price } else\n{ inp.user_balance };","region":{"Known":[{"line":159,"column":8},{"line":163,"column":10}]}},{"code":"has_balance","region":{"Known":[{"line":165,"column":34},{"line":165,"column":45}]}},{"code":"inp.merchant_balance","region":{"Known":[{"line":168,"column":12},{"line":168,"column":32}]}},{"code":"inp.merchant_balance + inp.price","region":{"Known":[{"line":166,"column":12},{"line":166,"column":44}]}},{"code":"let new_merchant_bal = if has_balance { inp.merchant_balance + inp.price }\nelse { inp.merchant_balance };","region":{"Known":[{"line":165,"column":8},{"line":169,"column":10}]}},{"code":"has_balance","region":{"Known":[{"line":172,"column":27},{"line":172,"column":38}]}},{"code":"inp.subscription_count","region":{"Known":[{"line":175,"column":12},{"line":175,"column":34}]}},{"code":"inp.subscription_count + 1","region":{"Known":[{"line":173,"column":12},{"line":173,"column":38}]}},{"code":"let new_count = if has_balance { inp.subscription_count + 1 } else\n{ inp.subscription_count };","region":{"Known":[{"line":172,"column":8},{"line":176,"column":10}]}},{"code":"let seconds_per_day : i64 = 86400;","region":{"Known":[{"line":179,"column":8},{"line":179,"column":41}]}},{"code":"inp.billing_cycle_days as i64","region":{"Known":[{"line":180,"column":29},{"line":180,"column":58}]}},{"code":"let cycle_seconds = (inp.billing_cycle_days as i64) * seconds_per_day;","region":{"Known":[{"line":180,"column":8},{"line":180,"column":78}]}},{"code":"let next_payment = inp.current_timestamp + cycle_seconds;","region":{"Known":[{"line":181,"column":8},{"line":181,"column":65}]}},{"code":"has_balance","region":{"Known":[{"line":184,"column":28},{"line":184,"column":39}]}},{"code":"1","region":{"Known":[{"line":184,"column":53},{"line":184,"column":54}]}},{"code":"0","region":{"Known":[{"line":184,"column":42},{"line":184,"column":43}]}},{"code":"let status : u8 = if has_balance { 0 } else { 1 };","region":{"Known":[{"line":184,"column":8},{"line":184,"column":57}]}},{"code":"new_user_bal","region":{"Known":[{"line":187,"column":30},{"line":187,"column":42}]}},{"code":"new_merchant_bal","region":{"Known":[{"line":188,"column":34},{"line":188,"column":50}]}},{"code":"new_count","region":{"Known":[{"line":189,"column":36},{"line":189,"column":45}]}},{"code":"inp.plan_pubkey","region":{"Known":[{"line":190,"column":28},{"line":190,"column":43}]}},{"code":"status","region":{"Known":[{"line":191,"column":30},{"line":191,"column":36}]}},{"code":"has_balance","region":{"Known":[{"line":192,"column":44},{"line":192,"column":55}]}},{"code":"0","region":{"Known":[{"line":192,"column":80},{"line":192,"column":81}]}},{"code":"next_payment","region":{"Known":[{"line":192,"column":58},{"line":192,"column":70}]}},{"code":"if has_balance { next_payment } else { 0 }","region":{"Known":[{"line":192,"column":41},{"line":192,"column":83}]}},{"code":"has_balance","region":{"Known":[{"line":193,"column":37},{"line":193,"column":48}]}},{"code":"0","region":{"Known":[{"line":193,"column":82},{"line":193,"column":83}]}},{"code":"inp.current_timestamp","region":{"Known":[{"line":193,"column":51},{"line":193,"column":72}]}},{"code":"if has_balance { inp.current_timestamp } else { 0 }","region":{"Known":[{"line":193,"column":34},{"line":193,"column":85}]}},{"code":"has_balance","region":{"Known":[{"line":194,"column":21},{"line":194,"column":32}]}},{"code":"let output = SubscribeOutput\n{\n    new_user_balance : new_user_bal, new_merchant_balance : new_merchant_bal,\n    new_subscription_count : new_count, encrypted_plan : inp.plan_pubkey,\n    encrypted_status : status, encrypted_next_payment_date : if has_balance\n    { next_payment } else { 0 }, encrypted_start_date : if has_balance\n    { inp.current_timestamp } else { 0 }, success : has_balance,\n};","region":{"Known":[{"line":186,"column":8},{"line":195,"column":10}]}},{"code":"output","region":{"Known":[{"line":197,"column":31},{"line":197,"column":37}]}},{"code":"input.owner.from_arcis(output)","region":{"Known":[{"line":197,"column":8},{"line":197,"column":38}]}},{"code":"let cancelled_status : u8 = 1;","region":{"Known":[{"line":206,"column":8},{"line":206,"column":37}]}},{"code":"cancelled_status","region":{"Known":[{"line":207,"column":31},{"line":207,"column":47}]}},{"code":"input.owner.from_arcis(cancelled_status)","region":{"Known":[{"line":207,"column":8},{"line":207,"column":48}]}},{"code":"let inp = input.to_arcis();","region":{"Known":[{"line":215,"column":8},{"line":215,"column":35}]}},{"code":"let is_active = inp.subscription_status == 0;","region":{"Known":[{"line":218,"column":8},{"line":218,"column":53}]}},{"code":"let is_due = inp.next_payment_date <= inp.current_timestamp;","region":{"Known":[{"line":221,"column":8},{"line":221,"column":68}]}},{"code":"let should_process = is_active && is_due;","region":{"Known":[{"line":224,"column":8},{"line":224,"column":49}]}},{"code":"let has_balance = inp.user_balance >= inp.plan_price;","region":{"Known":[{"line":227,"column":8},{"line":227,"column":61}]}},{"code":"let can_pay = should_process && has_balance;","region":{"Known":[{"line":230,"column":8},{"line":230,"column":52}]}},{"code":"can_pay","region":{"Known":[{"line":233,"column":30},{"line":233,"column":37}]}},{"code":"inp.user_balance","region":{"Known":[{"line":236,"column":12},{"line":236,"column":28}]}},{"code":"inp.user_balance - inp.plan_price","region":{"Known":[{"line":234,"column":12},{"line":234,"column":45}]}},{"code":"let new_user_bal = if can_pay { inp.user_balance - inp.plan_price } else\n{ inp.user_balance };","region":{"Known":[{"line":233,"column":8},{"line":237,"column":10}]}},{"code":"can_pay","region":{"Known":[{"line":239,"column":34},{"line":239,"column":41}]}},{"code":"inp.merchant_balance","region":{"Known":[{"line":242,"column":12},{"line":242,"column":32}]}},{"code":"inp.merchant_balance + inp.plan_price","region":{"Known":[{"line":240,"column":12},{"line":240,"column":49}]}},{"code":"let new_merchant_bal = if can_pay { inp.merchant_balance + inp.plan_price }\nelse { inp.merchant_balance };","region":{"Known":[{"line":239,"column":8},{"line":243,"column":10}]}},{"code":"should_process && ! has_balance","region":{"Known":[{"line":246,"column":28},{"line":246,"column":58}]}},{"code":"inp.subscription_status","region":{"Known":[{"line":249,"column":12},{"line":249,"column":35}]}},{"code":"1u8","region":{"Known":[{"line":247,"column":12},{"line":247,"column":15}]}},{"code":"let new_status = if should_process && ! has_balance { 1u8 } else\n{ inp.subscription_status };","region":{"Known":[{"line":246,"column":8},{"line":250,"column":10}]}},{"code":"let seconds_per_day : i64 = 86400;","region":{"Known":[{"line":253,"column":8},{"line":253,"column":41}]}},{"code":"inp.billing_cycle_days as i64","region":{"Known":[{"line":254,"column":29},{"line":254,"column":58}]}},{"code":"let cycle_seconds = (inp.billing_cycle_days as i64) * seconds_per_day;","region":{"Known":[{"line":254,"column":8},{"line":254,"column":78}]}},{"code":"can_pay","region":{"Known":[{"line":255,"column":31},{"line":255,"column":38}]}},{"code":"inp.next_payment_date","region":{"Known":[{"line":258,"column":12},{"line":258,"column":33}]}},{"code":"inp.next_payment_date + cycle_seconds","region":{"Known":[{"line":256,"column":12},{"line":256,"column":49}]}},{"code":"let new_next_date = if can_pay { inp.next_payment_date + cycle_seconds } else\n{ inp.next_payment_date };","region":{"Known":[{"line":255,"column":8},{"line":259,"column":10}]}},{"code":"new_user_bal","region":{"Known":[{"line":262,"column":30},{"line":262,"column":42}]}},{"code":"new_merchant_bal","region":{"Known":[{"line":263,"column":34},{"line":263,"column":50}]}},{"code":"new_status","region":{"Known":[{"line":264,"column":12},{"line":264,"column":22}]}},{"code":"new_next_date","region":{"Known":[{"line":265,"column":35},{"line":265,"column":48}]}},{"code":"can_pay","region":{"Known":[{"line":266,"column":31},{"line":266,"column":38}]}},{"code":"let output = ProcessPaymentOutput\n{\n    new_user_balance : new_user_bal, new_merchant_balance : new_merchant_bal,\n    new_status, new_next_payment_date : new_next_date, payment_processed :\n    can_pay,\n};","region":{"Known":[{"line":261,"column":8},{"line":267,"column":10}]}},{"code":"output","region":{"Known":[{"line":269,"column":31},{"line":269,"column":37}]}},{"code":"input.owner.from_arcis(output)","region":{"Known":[{"line":269,"column":8},{"line":269,"column":38}]}},{"code":"let inp = input.to_arcis();","region":{"Known":[{"line":277,"column":8},{"line":277,"column":35}]}},{"code":"let is_active = inp.subscription_status == 0;","region":{"Known":[{"line":282,"column":8},{"line":282,"column":53}]}},{"code":"let grace_period : i64 = 259200;","region":{"Known":[{"line":285,"column":8},{"line":285,"column":39}]}},{"code":"let grace_deadline = inp.next_payment_date + grace_period;","region":{"Known":[{"line":286,"column":8},{"line":286,"column":66}]}},{"code":"let not_expired = inp.current_timestamp <= grace_deadline;","region":{"Known":[{"line":287,"column":8},{"line":287,"column":66}]}},{"code":"let is_valid = is_active && not_expired;","region":{"Known":[{"line":289,"column":8},{"line":289,"column":48}]}},{"code":"is_valid.reveal()","region":{"Known":[{"line":291,"column":8},{"line":291,"column":25}]}},{"code":"let inp = input.to_arcis();","region":{"Known":[{"line":299,"column":8},{"line":299,"column":35}]}},{"code":"let has_balance = inp.current_balance >= inp.claim_amount;","region":{"Known":[{"line":302,"column":8},{"line":302,"column":66}]}},{"code":"has_balance","region":{"Known":[{"line":305,"column":29},{"line":305,"column":40}]}},{"code":"inp.current_balance","region":{"Known":[{"line":308,"column":12},{"line":308,"column":31}]}},{"code":"inp.current_balance - inp.claim_amount","region":{"Known":[{"line":306,"column":12},{"line":306,"column":50}]}},{"code":"let new_balance = if has_balance { inp.current_balance - inp.claim_amount }\nelse { inp.current_balance };","region":{"Known":[{"line":305,"column":8},{"line":309,"column":10}]}},{"code":"has_balance","region":{"Known":[{"line":312,"column":31},{"line":312,"column":42}]}},{"code":"0u64","region":{"Known":[{"line":315,"column":12},{"line":315,"column":16}]}},{"code":"inp.claim_amount","region":{"Known":[{"line":313,"column":12},{"line":313,"column":28}]}},{"code":"let actual_amount = if has_balance { inp.claim_amount } else { 0u64 };","region":{"Known":[{"line":312,"column":8},{"line":316,"column":10}]}},{"code":"new_balance","region":{"Known":[{"line":319,"column":12},{"line":319,"column":23}]}},{"code":"actual_amount","region":{"Known":[{"line":320,"column":12},{"line":320,"column":25}]}},{"code":"has_balance","region":{"Known":[{"line":321,"column":21},{"line":321,"column":32}]}},{"code":"let output = ClaimRevenueOutput\n{ new_balance, actual_amount, success : has_balance, };","region":{"Known":[{"line":318,"column":8},{"line":322,"column":10}]}},{"code":"output","region":{"Known":[{"line":324,"column":31},{"line":324,"column":37}]}},{"code":"input.owner.from_arcis(output)","region":{"Known":[{"line":324,"column":8},{"line":324,"column":38}]}}]}
, 'instructions':
{"unsubscribe":{"profilees":[{"code_idx":76,"before_size_id":0,"after_size_id":1},{"code_idx":77,"before_size_id":1,"after_size_id":1},{"code_idx":6,"before_size_id":1,"after_size_id":2},{"code_idx":7,"before_size_id":2,"after_size_id":2},{"code_idx":8,"before_size_id":2,"after_size_id":2},{"code_idx":9,"before_size_id":2,"after_size_id":2},{"code_idx":10,"before_size_id":2,"after_size_id":3},{"code_idx":11,"before_size_id":3,"after_size_id":3},{"code_idx":12,"before_size_id":3,"after_size_id":3},{"code_idx":13,"before_size_id":3,"after_size_id":3},{"code_idx":14,"before_size_id":3,"after_size_id":3},{"code_idx":15,"before_size_id":3,"after_size_id":3},{"code_idx":16,"before_size_id":3,"after_size_id":3},{"code_idx":17,"before_size_id":3,"after_size_id":3},{"code_idx":18,"before_size_id":3,"after_size_id":3},{"code_idx":19,"before_size_id":2,"after_size_id":3},{"code_idx":78,"before_size_id":1,"after_size_id":3}]},"verify_subscription":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":112,"before_size_id":0,"after_size_id":2},{"code_idx":113,"before_size_id":2,"after_size_id":3},{"code_idx":114,"before_size_id":3,"after_size_id":4},{"code_idx":115,"before_size_id":4,"after_size_id":5},{"code_idx":116,"before_size_id":5,"after_size_id":6},{"code_idx":117,"before_size_id":6,"after_size_id":7},{"code_idx":118,"before_size_id":7,"after_size_id":8}]},"subscribe":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":37,"before_size_id":0,"after_size_id":2},{"code_idx":38,"before_size_id":2,"after_size_id":3},{"code_idx":39,"before_size_id":3,"after_size_id":3},{"code_idx":40,"before_size_id":3,"after_size_id":3},{"code_idx":41,"before_size_id":3,"after_size_id":4},{"code_idx":42,"before_size_id":3,"after_size_id":5},{"code_idx":43,"before_size_id":5,"after_size_id":5},{"code_idx":44,"before_size_id":5,"after_size_id":5},{"code_idx":45,"before_size_id":5,"after_size_id":6},{"code_idx":46,"before_size_id":5,"after_size_id":7},{"code_idx":47,"before_size_id":7,"after_size_id":7},{"code_idx":48,"before_size_id":7,"after_size_id":7},{"code_idx":49,"before_size_id":7,"after_size_id":8},{"code_idx":50,"before_size_id":7,"after_size_id":9},{"code_idx":51,"before_size_id":9,"after_size_id":10},{"code_idx":52,"before_size_id":10,"after_size_id":11},{"code_idx":53,"before_size_id":10,"after_size_id":12},{"code_idx":54,"before_size_id":12,"after_size_id":13},{"code_idx":55,"before_size_id":13,"after_size_id":13},{"code_idx":56,"before_size_id":13,"after_size_id":13},{"code_idx":57,"before_size_id":13,"after_size_id":13},{"code_idx":58,"before_size_id":13,"after_size_id":14},{"code_idx":59,"before_size_id":14,"after_size_id":14},{"code_idx":60,"before_size_id":14,"after_size_id":14},{"code_idx":61,"before_size_id":14,"after_size_id":14},{"code_idx":62,"before_size_id":14,"after_size_id":14},{"code_idx":63,"before_size_id":14,"after_size_id":14},{"code_idx":64,"before_size_id":14,"after_size_id":14},{"code_idx":65,"before_size_id":14,"after_size_id":14},{"code_idx":66,"before_size_id":14,"after_size_id":14},{"code_idx":67,"before_size_id":14,"after_size_id":15},{"code_idx":68,"before_size_id":15,"after_size_id":15},{"code_idx":69,"before_size_id":15,"after_size_id":15},{"code_idx":70,"before_size_id":15,"after_size_id":15},{"code_idx":71,"before_size_id":15,"after_size_id":16},{"code_idx":72,"before_size_id":16,"after_size_id":16},{"code_idx":73,"before_size_id":14,"after_size_id":16},{"code_idx":74,"before_size_id":16,"after_size_id":16},{"code_idx":6,"before_size_id":16,"after_size_id":17},{"code_idx":7,"before_size_id":17,"after_size_id":17},{"code_idx":8,"before_size_id":17,"after_size_id":17},{"code_idx":9,"before_size_id":17,"after_size_id":17},{"code_idx":10,"before_size_id":17,"after_size_id":18},{"code_idx":11,"before_size_id":18,"after_size_id":18},{"code_idx":12,"before_size_id":18,"after_size_id":18},{"code_idx":13,"before_size_id":18,"after_size_id":18},{"code_idx":14,"before_size_id":18,"after_size_id":18},{"code_idx":15,"before_size_id":18,"after_size_id":18},{"code_idx":16,"before_size_id":18,"after_size_id":18},{"code_idx":17,"before_size_id":18,"after_size_id":18},{"code_idx":18,"before_size_id":18,"after_size_id":18},{"code_idx":19,"before_size_id":17,"after_size_id":18},{"code_idx":75,"before_size_id":16,"after_size_id":18}]},"deposit":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":3,"before_size_id":0,"after_size_id":2},{"code_idx":4,"before_size_id":2,"after_size_id":3},{"code_idx":5,"before_size_id":3,"after_size_id":3},{"code_idx":6,"before_size_id":3,"after_size_id":4},{"code_idx":7,"before_size_id":4,"after_size_id":4},{"code_idx":8,"before_size_id":4,"after_size_id":4},{"code_idx":9,"before_size_id":4,"after_size_id":4},{"code_idx":10,"before_size_id":4,"after_size_id":5},{"code_idx":11,"before_size_id":5,"after_size_id":5},{"code_idx":12,"before_size_id":5,"after_size_id":5},{"code_idx":13,"before_size_id":5,"after_size_id":5},{"code_idx":14,"before_size_id":5,"after_size_id":5},{"code_idx":15,"before_size_id":5,"after_size_id":5},{"code_idx":16,"before_size_id":5,"after_size_id":5},{"code_idx":17,"before_size_id":5,"after_size_id":5},{"code_idx":18,"before_size_id":5,"after_size_id":5},{"code_idx":19,"before_size_id":4,"after_size_id":5},{"code_idx":20,"before_size_id":3,"after_size_id":5}]},"withdraw":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":21,"before_size_id":0,"after_size_id":2},{"code_idx":22,"before_size_id":2,"after_size_id":3},{"code_idx":23,"before_size_id":3,"after_size_id":3},{"code_idx":24,"before_size_id":3,"after_size_id":3},{"code_idx":25,"before_size_id":3,"after_size_id":4},{"code_idx":26,"before_size_id":3,"after_size_id":5},{"code_idx":27,"before_size_id":5,"after_size_id":5},{"code_idx":28,"before_size_id":5,"after_size_id":5},{"code_idx":29,"before_size_id":5,"after_size_id":5},{"code_idx":30,"before_size_id":5,"after_size_id":6},{"code_idx":31,"before_size_id":6,"after_size_id":6},{"code_idx":32,"before_size_id":6,"after_size_id":6},{"code_idx":33,"before_size_id":6,"after_size_id":6},{"code_idx":34,"before_size_id":6,"after_size_id":6},{"code_idx":35,"before_size_id":6,"after_size_id":6},{"code_idx":6,"before_size_id":6,"after_size_id":7},{"code_idx":7,"before_size_id":7,"after_size_id":7},{"code_idx":8,"before_size_id":7,"after_size_id":7},{"code_idx":9,"before_size_id":7,"after_size_id":7},{"code_idx":10,"before_size_id":7,"after_size_id":8},{"code_idx":11,"before_size_id":8,"after_size_id":8},{"code_idx":12,"before_size_id":8,"after_size_id":8},{"code_idx":13,"before_size_id":8,"after_size_id":8},{"code_idx":14,"before_size_id":8,"after_size_id":8},{"code_idx":15,"before_size_id":8,"after_size_id":8},{"code_idx":16,"before_size_id":8,"after_size_id":8},{"code_idx":17,"before_size_id":8,"after_size_id":8},{"code_idx":18,"before_size_id":8,"after_size_id":8},{"code_idx":19,"before_size_id":7,"after_size_id":8},{"code_idx":36,"before_size_id":6,"after_size_id":8}]},"process_payment":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":79,"before_size_id":0,"after_size_id":2},{"code_idx":80,"before_size_id":2,"after_size_id":3},{"code_idx":81,"before_size_id":3,"after_size_id":4},{"code_idx":82,"before_size_id":4,"after_size_id":5},{"code_idx":83,"before_size_id":5,"after_size_id":6},{"code_idx":84,"before_size_id":6,"after_size_id":7},{"code_idx":85,"before_size_id":7,"after_size_id":7},{"code_idx":86,"before_size_id":7,"after_size_id":7},{"code_idx":87,"before_size_id":7,"after_size_id":8},{"code_idx":88,"before_size_id":7,"after_size_id":9},{"code_idx":89,"before_size_id":9,"after_size_id":9},{"code_idx":90,"before_size_id":9,"after_size_id":9},{"code_idx":91,"before_size_id":9,"after_size_id":10},{"code_idx":92,"before_size_id":9,"after_size_id":11},{"code_idx":93,"before_size_id":11,"after_size_id":12},{"code_idx":94,"before_size_id":13,"after_size_id":13},{"code_idx":95,"before_size_id":13,"after_size_id":13},{"code_idx":96,"before_size_id":11,"after_size_id":14},{"code_idx":97,"before_size_id":14,"after_size_id":15},{"code_idx":98,"before_size_id":15,"after_size_id":16},{"code_idx":99,"before_size_id":15,"after_size_id":17},{"code_idx":100,"before_size_id":17,"after_size_id":17},{"code_idx":101,"before_size_id":17,"after_size_id":17},{"code_idx":102,"before_size_id":17,"after_size_id":18},{"code_idx":103,"before_size_id":17,"after_size_id":19},{"code_idx":104,"before_size_id":19,"after_size_id":19},{"code_idx":105,"before_size_id":19,"after_size_id":19},{"code_idx":106,"before_size_id":19,"after_size_id":19},{"code_idx":107,"before_size_id":19,"after_size_id":19},{"code_idx":108,"before_size_id":19,"after_size_id":19},{"code_idx":109,"before_size_id":19,"after_size_id":19},{"code_idx":110,"before_size_id":19,"after_size_id":19},{"code_idx":6,"before_size_id":19,"after_size_id":20},{"code_idx":7,"before_size_id":20,"after_size_id":20},{"code_idx":8,"before_size_id":20,"after_size_id":20},{"code_idx":9,"before_size_id":20,"after_size_id":20},{"code_idx":10,"before_size_id":20,"after_size_id":21},{"code_idx":11,"before_size_id":21,"after_size_id":21},{"code_idx":12,"before_size_id":21,"after_size_id":21},{"code_idx":13,"before_size_id":21,"after_size_id":21},{"code_idx":14,"before_size_id":21,"after_size_id":21},{"code_idx":15,"before_size_id":21,"after_size_id":21},{"code_idx":16,"before_size_id":21,"after_size_id":21},{"code_idx":17,"before_size_id":21,"after_size_id":21},{"code_idx":18,"before_size_id":21,"after_size_id":21},{"code_idx":19,"before_size_id":20,"after_size_id":21},{"code_idx":111,"before_size_id":19,"after_size_id":21}]},"claim_revenue":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":119,"before_size_id":0,"after_size_id":2},{"code_idx":120,"before_size_id":2,"after_size_id":3},{"code_idx":121,"before_size_id":3,"after_size_id":3},{"code_idx":122,"before_size_id":3,"after_size_id":3},{"code_idx":123,"before_size_id":3,"after_size_id":4},{"code_idx":124,"before_size_id":3,"after_size_id":5},{"code_idx":125,"before_size_id":5,"after_size_id":5},{"code_idx":126,"before_size_id":5,"after_size_id":5},{"code_idx":127,"before_size_id":5,"after_size_id":5},{"code_idx":128,"before_size_id":5,"after_size_id":6},{"code_idx":129,"before_size_id":6,"after_size_id":6},{"code_idx":130,"before_size_id":6,"after_size_id":6},{"code_idx":131,"before_size_id":6,"after_size_id":6},{"code_idx":132,"before_size_id":6,"after_size_id":6},{"code_idx":133,"before_size_id":6,"after_size_id":6},{"code_idx":6,"before_size_id":6,"after_size_id":7},{"code_idx":7,"before_size_id":7,"after_size_id":7},{"code_idx":8,"before_size_id":7,"after_size_id":7},{"code_idx":9,"before_size_id":7,"after_size_id":7},{"code_idx":10,"before_size_id":7,"after_size_id":8},{"code_idx":11,"before_size_id":8,"after_size_id":8},{"code_idx":12,"before_size_id":8,"after_size_id":8},{"code_idx":13,"before_size_id":8,"after_size_id":8},{"code_idx":14,"before_size_id":8,"after_size_id":8},{"code_idx":15,"before_size_id":8,"after_size_id":8},{"code_idx":16,"before_size_id":8,"after_size_id":8},{"code_idx":17,"before_size_id":8,"after_size_id":8},{"code_idx":18,"before_size_id":8,"after_size_id":8},{"code_idx":19,"before_size_id":7,"after_size_id":8},{"code_idx":134,"before_size_id":6,"after_size_id":8}]}}
, 'instruction_locations':
{"process_payment":{"Known":[{"line":213,"column":4},{"line":213,"column":18}]},"subscribe":{"Known":[{"line":151,"column":4},{"line":151,"column":18}]},"deposit":{"Known":[{"line":108,"column":4},{"line":108,"column":18}]},"claim_revenue":{"Known":[{"line":297,"column":4},{"line":297,"column":18}]},"verify_subscription":{"Known":[{"line":275,"column":4},{"line":275,"column":18}]},"withdraw":{"Known":[{"line":118,"column":4},{"line":118,"column":18}]},"unsubscribe":{"Known":[{"line":203,"column":4},{"line":203,"column":18}]}}
};
